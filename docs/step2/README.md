# 認証機能を実装しよう

webアプリケーション開発では絶対的に必要になる認証機能。
認証にはいくつかの種類が存在しますが、今回はパスワード使ったログイン方法で実装してきます。

ほかにもOAuth認証や、JWTJWT認証などもありますが、今回は一般的なセッションを使った認証を作りましょう。

### JWT認証について
余談ですが、最近だとJWTトークンを使った認証を使うことも増えてきました。
余裕がある方は、認証まわりと後からJWTにしてもいいかもしれません。

JWT認証の場合は大半は認証サービス基盤を使うことが多いです。
代表的なところで行くと下記のサービスになります。

- Firebase Authentication
- Auth0
- Amazon Cognito

## そもそもパスワードを使った認証の仕組みとはどのようなものか？
そもそも


## セッション認証とはなにか？
一言で表すと  
** クッキーにセッションIDを保持して、セッションIDを元にユーザーを特定させる認証方法 **   
になるかと思います。

### クッキーとはなにか？

そもそもクッキーとは何でしょうか？  
基本的にHTTPの技術はステートレス、つまり状態を持たないようになっています。  
ただ、状態をもたないとアクセスしてきたユーザーがだれなのか特定ができません。

そこで利用するのがcookieです。  
cookieは様々情報を格納することができます。

便利ですが、欠点があります。それはユーザーが勝手に書きかることが出来てしまうことです。

### セッションとはなにか？

セッションとは簡単に言うと「サーバ側に情報を保持する仕組み」になります。  
クッキーとは違って、セッションはサーバ側で情報を保持するので、ユーザーが勝手に書き換える事はできません。


### セッションIDとはなにか？
セッションが格納されてる情報にアクセスするためのIDになります。
このIDがなければセッション情報を取得することはできません。

### セッションIDはクッキーで保持される
セッションIDはクッキーにより管理されます。
HTTPリクエスト時にブラウザはクッキーを送信します。そのクッキーのなかに入っているセッションIDを使ってログインしているユーザーかを認証します。

ここで疑問に思うのは「cookieに適当なセッションIDをセットすれば他人になりすませるのでは？」という事かなと思います。
あとは他人のセッションIDをどこかで入手すれば、なりすませるのでは？とかも思うかもしれません。
たしかにその通りなんですが、セッションは基本的には通信するときに毎回新しいセッションIDを発行し盗まれても問題ありません。
(いや問題はあるので、盗まれないようにHTTPSを使うことは今の時代必須かと思います。またいろんな攻撃によりセッションIDが漏洩することがあるのでセキュリティ気をつけて実装しないとだめです)


## 実際にLaravelの認証機能をつかってセッション認証を作ってみよう

認証を





## おすすめ書籍

- 体系的に学ぶ 安全なWebアプリケーションの作り方
- Webを支える技術 -HTTP、URI、HTML、そしてREST (WEB+DB PRESS plus)